{"version":3,"file":"extensions_dicom-microscopy_src_DicomMicroscopyViewport_tsx.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAcA;AACA;AAAA;AAbA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAoQA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAgDA;AACA;AAzTA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AAIA;AACA;AACA;AAEA;AAKA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AAKA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAKA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAEA;AAQA;AACA;AACA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AAEA;AAKA;AAIA;AAAA;AAAA;AACA;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAcA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAAA;AAQA;AACA;AACA;AAAA;AAMA;AAAA;AAAA;AAGA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AA3UA;AAyBA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAoSA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvVA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvBA;AACA;AAEA;AACA;AACA;AAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAYA;AAXA;AACA;AACA;AACA;AACA;AAOA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AAIA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAKA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAKA;AACA;AAAA;AAGA;AACA;AACA;AACA;AAKA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAMA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AApGA;AAyEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;ACrGA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA5FA;AAWA;AAaA;AAiBA;AAUA;AAsBA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;AClFA;AAEA;AACA;AACA;AAEA;;AAiBA;AACA;AACA;AACA;AACA;AACA;AAQA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;;AAEA;AACA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA7EA;AAIA;AAsBA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;AC5BA;AACA;AAEA;AAAA;AAAA;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAFA;AACA;AACA;AACA;AAGA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AACA;AAGA;AACA;AAMA;AAMA;AAIA;AAKA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAlGA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["file:////Users/smartxx/xV/DICOM/Viewers/extensions/dicom-microscopy/src/DicomMicroscopyViewport.tsx","file:////Users/smartxx/xV/DICOM/Viewers/extensions/dicom-microscopy/src/components/ViewportOverlay/index.tsx","file:////Users/smartxx/xV/DICOM/Viewers/extensions/dicom-microscopy/src/components/ViewportOverlay/listComponentGenerator.tsx","file:////Users/smartxx/xV/DICOM/Viewers/extensions/dicom-microscopy/src/components/ViewportOverlay/utils.ts","file:////Users/smartxx/xV/DICOM/Viewers/extensions/dicom-microscopy/src/utils/cleanDenaturalizedDataset.ts","file:////Users/smartxx/xV/DICOM/Viewers/extensions/dicom-microscopy/src/utils/dicomWebClient.ts","file:////Users/smartxx/xV/DICOM/Viewers/extensions/dicom-microscopy/src/DicomMicroscopyViewport.css","file:////Users/smartxx/xV/DICOM/Viewers/extensions/dicom-microscopy/src/components/ViewportOverlay/ViewportOverlay.css","webpack:///../../../extensions/dicom-microscopy/src/DicomMicroscopyViewport.css?ff5d","webpack:///../../../extensions/dicom-microscopy/src/components/ViewportOverlay/ViewportOverlay.css?9a80"],"sourcesContent":["import React, { Component } from 'react';\nimport ReactResizeDetector from 'react-resize-detector';\nimport PropTypes from 'prop-types';\nimport debounce from 'lodash.debounce';\nimport { LoadingIndicatorProgress } from '@ohif/ui';\n\nimport './DicomMicroscopyViewport.css';\nimport ViewportOverlay from './components/ViewportOverlay';\nimport getDicomWebClient from './utils/dicomWebClient';\nimport dcmjs from 'dcmjs';\nimport cleanDenaturalizedDataset from './utils/cleanDenaturalizedDataset';\nimport MicroscopyService from './services/MicroscopyService';\n\nfunction transformImageTypeUnnaturalized(entry) {\n  if (entry.vr === 'CS') {\n    return {\n      vr: 'US',\n      Value: entry.Value[0].split('\\\\'),\n    };\n  }\n  return entry;\n}\n\nclass DicomMicroscopyViewport extends Component {\n  state = {\n    error: null as any,\n    isLoaded: false,\n  };\n\n  microscopyService: MicroscopyService;\n  viewer: any = null; // dicom-microscopy-viewer instance\n  managedViewer: any = null; // managed wrapper of microscopy-dicom extension\n\n  container = React.createRef();\n  overlayElement = React.createRef();\n  debouncedResize: () => any;\n\n  constructor(props: any) {\n    super(props);\n\n    const { microscopyService } = this.props.servicesManager.services;\n    this.microscopyService = microscopyService;\n    this.debouncedResize = debounce(() => {\n      if (this.viewer) this.viewer.resize();\n    }, 100);\n  }\n\n  static propTypes = {\n    viewportData: PropTypes.object,\n    activeViewportIndex: PropTypes.number,\n    setViewportActive: PropTypes.func,\n\n    // props from OHIF Viewport Grid\n    displaySets: PropTypes.array,\n    viewportIndex: PropTypes.number,\n    viewportLabel: PropTypes.string,\n    dataSource: PropTypes.object,\n    viewportOptions: PropTypes.object,\n    displaySetOptions: PropTypes.array,\n\n    // other props from wrapping component\n    servicesManager: PropTypes.object,\n    extensionManager: PropTypes.object,\n    commandsManager: PropTypes.object,\n  };\n\n  /**\n   * Get the nearest ROI from the mouse click point\n   *\n   * @param event\n   * @param autoselect\n   * @returns\n   */\n  getNearbyROI(event: Event, autoselect = true) {\n    const symbols = Object.getOwnPropertySymbols(this.viewer);\n    const _drawingSource = symbols.find(p => p.description === 'drawingSource');\n    const _pyramid = symbols.find(p => p.description === 'pyramid');\n    const _map = symbols.find(p => p.description === 'map');\n    const _affine = symbols.find(p => p.description === 'affine');\n\n    const feature = this.viewer[_drawingSource].getClosestFeatureToCoordinate(\n      this.viewer[_map].getEventCoordinate(event)\n    );\n\n    if (!feature) {\n      return null;\n    }\n\n    const roiAnnotation = this.viewer._getROIFromFeature(\n      feature,\n      this.viewer[_pyramid].metadata,\n      this.viewer[_affine]\n    );\n    if (roiAnnotation && autoselect) {\n      this.microscopyService.selectAnnotation(roiAnnotation);\n    }\n    return roiAnnotation;\n  }\n\n  // install the microscopy renderer into the web page.\n  // you should only do this once.\n  async installOpenLayersRenderer(container, displaySet) {\n    const loadViewer = async metadata => {\n      const {\n        viewer: DicomMicroscopyViewer,\n        metadata: metadataUtils,\n      } = await import(\n        /* webpackChunkName: \"dicom-microscopy-viewer\" */ 'dicom-microscopy-viewer'\n      );\n      const microscopyViewer = DicomMicroscopyViewer.VolumeImageViewer;\n\n      const client = getDicomWebClient({\n        extensionManager: this.props.extensionManager,\n        servicesManager: this.props.servicesManager,\n      });\n\n      // Parse, format, and filter metadata\n      const volumeImages: any[] = [];\n\n      /**\n       * This block of code is the original way of loading DICOM into dicom-microscopy-viewer\n       * as in their documentation.\n       * But we have the metadata already loaded by our loaders.\n       * As the metadata for microscopy DIOM files tends to be big and we don't\n       * want to double load it, below we have the mechanism to reconstruct the\n       * DICOM JSON structure (denaturalized) from naturalized metadata.\n       * (NOTE: Our loaders cache only naturalized metadata, not the denaturalized.)\n       */\n      // {\n      //   const retrieveOptions = {\n      //     studyInstanceUID: metadata[0].StudyInstanceUID,\n      //     seriesInstanceUID: metadata[0].SeriesInstanceUID,\n      //   };\n      //   metadata = await client.retrieveSeriesMetadata(retrieveOptions);\n      //   // Parse, format, and filter metadata\n      //   metadata.forEach(m => {\n      //     if (\n      //       volumeImages.length > 0 &&\n      //       m['00200052'].Value[0] != volumeImages[0].FrameOfReferenceUID\n      //     ) {\n      //       console.warn(\n      //         'Expected FrameOfReferenceUID of difference instances within a series to be the same, found multiple different values',\n      //         m['00200052'].Value[0]\n      //       );\n      //       m['00200052'].Value[0] = volumeImages[0].FrameOfReferenceUID;\n      //     }\n      //     NOTE: depending on different data source, image.ImageType sometimes\n      //     is a string, not a string array.\n      //     m['00080008'] = transformImageTypeUnnaturalized(m['00080008']);\n\n      //     const image = new metadataUtils.VLWholeSlideMicroscopyImage({\n      //       metadata: m,\n      //     });\n      //     const imageFlavor = image.ImageType[2];\n      //     if (imageFlavor === 'VOLUME' || imageFlavor === 'THUMBNAIL') {\n      //       volumeImages.push(image);\n      //     }\n      //   });\n      // }\n\n      metadata.forEach(m => {\n        // NOTE: depending on different data source, image.ImageType sometimes\n        //    is a string, not a string array.\n        m.ImageType =\n          typeof m.ImageType === 'string'\n            ? m.ImageType.split('\\\\')\n            : m.ImageType;\n\n        const inst = cleanDenaturalizedDataset(\n          dcmjs.data.DicomMetaDictionary.denaturalizeDataset(m),\n          {\n            StudyInstanceUID: m.StudyInstanceUID,\n            SeriesInstanceUID: m.SeriesInstanceUID,\n            dataSourceConfig: this.props.dataSource.getConfig(),\n          }\n        );\n        if (!inst['00480105']) {\n          // Optical Path Sequence, no OpticalPathIdentifier?\n          // NOTE: this is actually a not-well formatted DICOM VL Whole Slide Microscopy Image.\n          inst['00480105'] = {\n            vr: 'SQ',\n            Value: [\n              {\n                '00480106': {\n                  vr: 'SH',\n                  Value: ['1'],\n                },\n              },\n            ],\n          };\n        }\n        const image = new metadataUtils.VLWholeSlideMicroscopyImage({\n          metadata: inst,\n        });\n\n        const imageFlavor = image.ImageType[2];\n        if (imageFlavor === 'VOLUME' || imageFlavor === 'THUMBNAIL') {\n          volumeImages.push(image);\n        }\n      });\n\n      // format metadata for microscopy-viewer\n      const options = {\n        client,\n        metadata: volumeImages,\n        retrieveRendered: false,\n        controls: ['overview', 'position'],\n      };\n\n      this.viewer = new microscopyViewer(options);\n\n      if (\n        this.overlayElement &&\n        this.overlayElement.current &&\n        this.viewer.addViewportOverlay\n      ) {\n        this.viewer.addViewportOverlay({\n          element: this.overlayElement.current,\n          coordinates: [0, 0], // TODO: dicom-microscopy-viewer documentation says this can be false to be automatically, but it is not.\n          navigate: true,\n          className: 'OpenLayersOverlay',\n        });\n      }\n\n      this.viewer.render({ container });\n\n      const { StudyInstanceUID, SeriesInstanceUID } = displaySet;\n\n      this.managedViewer = this.microscopyService.addViewer(\n        this.viewer,\n        this.props.viewportIndex,\n        container,\n        StudyInstanceUID,\n        SeriesInstanceUID\n      );\n\n      this.managedViewer.addContextMenuCallback((event: Event) => {\n        // TODO: refactor this after Bill's changes on ContextMenu feature get merged\n        // const roiAnnotationNearBy = this.getNearbyROI(event);\n      });\n    };\n\n    this.microscopyService.clearAnnotations();\n\n    let smDisplaySet = displaySet;\n    if (displaySet.Modality === 'SR') {\n      // for SR displaySet, let's load the actual image displaySet\n      smDisplaySet = displaySet.getSourceDisplaySet();\n    }\n    console.log('Loading viewer metadata', smDisplaySet);\n\n    await loadViewer(smDisplaySet.others);\n\n    if (displaySet.Modality === 'SR') {\n      displaySet.load(smDisplaySet);\n    }\n  }\n\n  componentDidMount() {\n    const { displaySets, viewportIndex } = this.props;\n    const displaySet = displaySets[viewportIndex];\n    this.installOpenLayersRenderer(this.container.current, displaySet).then(\n      () => {\n        this.setState({ isLoaded: true });\n      }\n    );\n  }\n\n  componentDidUpdate(\n    prevProps: Readonly<{}>,\n    prevState: Readonly<{}>,\n    snapshot?: any\n  ): void {\n    if (\n      this.managedViewer &&\n      prevProps.displaySets !== this.props.displaySets\n    ) {\n      const { displaySets } = this.props;\n      const displaySet = displaySets[0];\n\n      this.microscopyService.clearAnnotations();\n\n      // loading SR\n      if (displaySet.Modality === 'SR') {\n        const referencedDisplaySet = displaySet.getSourceDisplaySet();\n        displaySet.load(referencedDisplaySet);\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.microscopyService.removeViewer(this.viewer);\n  }\n\n  setViewportActiveHandler = () => {\n    const {\n      setViewportActive,\n      viewportIndex,\n      activeViewportIndex,\n    } = this.props;\n\n    if (viewportIndex !== activeViewportIndex) {\n      setViewportActive(viewportIndex);\n    }\n  };\n\n  render() {\n    const style = { width: '100%', height: '100%' };\n    const displaySet = this.props.displaySets[0];\n    const firstInstance = displaySet.firstInstance || displaySet.instance;\n\n    return (\n      <div\n        className={'DicomMicroscopyViewer'}\n        style={style}\n        onClick={this.setViewportActiveHandler}\n      >\n        <div style={{ ...style, display: 'none' }}>\n          <div style={{ ...style }} ref={this.overlayElement}>\n            <div\n              style={{ position: 'relative', height: '100%', width: '100%' }}\n            >\n              {displaySet && firstInstance.imageId && (\n                <ViewportOverlay\n                  displaySet={displaySet}\n                  instance={displaySet.instance}\n                  metadata={displaySet.metadata}\n                />\n              )}\n            </div>\n          </div>\n        </div>\n        {ReactResizeDetector && (\n          <ReactResizeDetector\n            handleWidth\n            handleHeight\n            onResize={this.onWindowResize}\n          />\n        )}\n        {this.state.error ? (\n          <h2>{JSON.stringify(this.state.error)}</h2>\n        ) : (\n          <div style={style} ref={this.container} />\n        )}\n        {this.state.isLoaded ? null : (\n          <LoadingIndicatorProgress className={'w-full h-full bg-black'} />\n        )}\n      </div>\n    );\n  }\n\n  onWindowResize = () => {\n    this.debouncedResize();\n  };\n}\n\nexport default DicomMicroscopyViewport;\n","import React from 'react';\nimport classnames from 'classnames';\n\nimport listComponentGenerator from './listComponentGenerator';\nimport './ViewportOverlay.css';\nimport {\n  formatDICOMDate,\n  formatDICOMTime,\n  formatNumberPrecision,\n  formatPN,\n} from './utils';\n\ninterface OverlayItem {\n  id: string;\n  title: string;\n  value?: (props: any) => string;\n  condition?: (props: any) => boolean;\n  contents?: (props: any) => { className: string; value: any };\n  generator?: (props: any) => any;\n}\n\n/**\n *\n * @param {*} config is a configuration object that defines four lists of elements,\n * one topLeft, topRight, bottomLeft, bottomRight contents.\n * @param {*} extensionManager is used to load the image data.\n * @returns\n */\nexport const generateFromConfig = ({\n  topLeft = [],\n  topRight = [],\n  bottomLeft = [],\n  bottomRight = [],\n  itemGenerator = () => {},\n}: {\n  topLeft?: OverlayItem[];\n  topRight?: OverlayItem[];\n  bottomLeft?: OverlayItem[];\n  bottomRight?: OverlayItem[];\n  itemGenerator?: (props: any) => any;\n}) => {\n  return (props: any) => {\n    const topLeftClass = 'top-viewport left-viewport text-primary-light';\n    const topRightClass =\n      'top-viewport right-viewport-scrollbar text-primary-light';\n    const bottomRightClass =\n      'bottom-viewport right-viewport-scrollbar text-primary-light';\n    const bottomLeftClass = 'bottom-viewport left-viewport text-primary-light';\n    const overlay = 'absolute pointer-events-none microscopy-viewport-overlay';\n\n    return (\n      <>\n        {topLeft && topLeft.length > 0 && (\n          <div\n            data-cy={'viewport-overlay-top-left'}\n            className={classnames(overlay, topLeftClass)}\n          >\n            {listComponentGenerator({ ...props, list: topLeft, itemGenerator })}\n          </div>\n        )}\n        {topRight && topRight.length > 0 && (\n          <div\n            data-cy={'viewport-overlay-top-right'}\n            className={classnames(overlay, topRightClass)}\n          >\n            {listComponentGenerator({\n              ...props,\n              list: topRight,\n              itemGenerator,\n            })}\n          </div>\n        )}\n        {bottomRight && bottomRight.length > 0 && (\n          <div\n            data-cy={'viewport-overlay-bottom-right'}\n            className={classnames(overlay, bottomRightClass)}\n          >\n            {listComponentGenerator({\n              ...props,\n              list: bottomRight,\n              itemGenerator,\n            })}\n          </div>\n        )}\n        {bottomLeft && bottomLeft.length > 0 && (\n          <div\n            data-cy={'viewport-overlay-bottom-left'}\n            className={classnames(overlay, bottomLeftClass)}\n          >\n            {listComponentGenerator({\n              ...props,\n              list: bottomLeft,\n              itemGenerator,\n            })}\n          </div>\n        )}\n      </>\n    );\n  };\n};\n\nconst itemGenerator = (props: any) => {\n  const { item } = props;\n  const { title, value: valueFunc, condition, contents } = item;\n  props.image = { ...props.image, ...props.metadata };\n  props.formatDate = formatDICOMDate;\n  props.formatTime = formatDICOMTime;\n  props.formatPN = formatPN;\n  props.formatNumberPrecision = formatNumberPrecision;\n  if (condition && !condition(props)) return null;\n  if (!contents && !valueFunc) return null;\n  const value = valueFunc && valueFunc(props);\n  const contentsValue = (contents && contents(props)) || [\n    { className: 'mr-1', value: title },\n    { classname: 'mr-1 font-light', value },\n  ];\n\n  return (\n    <div key={item.id} className=\"flex flex-row\">\n      {contentsValue.map((content, idx) => (\n        <span key={idx} className={content.className}>\n          {content.value}\n        </span>\n      ))}\n    </div>\n  );\n};\n\nexport default generateFromConfig({});\n","const listComponentGenerator = props => {\n  const { list, itemGenerator } = props;\n  if (!list) return;\n  return list.map(item => {\n    if (!item) return;\n    const generator = item.generator || itemGenerator;\n    if (!generator) throw new Error(`No generator for ${item}`);\n    return generator({ ...props, item });\n  });\n};\n\nexport default listComponentGenerator;\n","import moment from 'moment';\nimport * as cornerstone from '@cornerstonejs/core';\n\n/**\n * Checks if value is valid.\n *\n * @param {number} value\n * @returns {boolean} is valid.\n */\nexport function isValidNumber(value) {\n  return typeof value === 'number' && !isNaN(value);\n}\n\n/**\n * Formats number precision.\n *\n * @param {number} number\n * @param {number} precision\n * @returns {number} formatted number.\n */\nexport function formatNumberPrecision(number, precision) {\n  if (number !== null) {\n    return parseFloat(number).toFixed(precision);\n  }\n}\n\n/**\n * Formats DICOM date.\n *\n * @param {string} date\n * @param {string} strFormat\n * @returns {string} formatted date.\n */\nexport function formatDICOMDate(date, strFormat = 'MMM D, YYYY') {\n  return moment(date, 'YYYYMMDD').format(strFormat);\n}\n\n/**\n *    DICOM Time is stored as HHmmss.SSS, where:\n *      HH 24 hour time:\n *        m mm        0..59   Minutes\n *        s ss        0..59   Seconds\n *        S SS SSS    0..999  Fractional seconds\n *\n *        Goal: '24:12:12'\n *\n * @param {*} time\n * @param {string} strFormat\n * @returns {string} formatted name.\n */\nexport function formatDICOMTime(time, strFormat = 'HH:mm:ss') {\n  return moment(time, 'HH:mm:ss').format(strFormat);\n}\n\n/**\n * Formats a patient name for display purposes\n *\n * @param {string} name\n * @returns {string} formatted name.\n */\nexport function formatPN(name) {\n  if (!name) {\n    return;\n  }\n\n  // Convert the first ^ to a ', '. String.replace() only affects\n  // the first appearance of the character.\n  const commaBetweenFirstAndLast = name.replace('^', ', ');\n\n  // Replace any remaining '^' characters with spaces\n  const cleaned = commaBetweenFirstAndLast.replace(/\\^/g, ' ');\n\n  // Trim any extraneous whitespace\n  return cleaned.trim();\n}\n\n/**\n * Gets compression type\n *\n * @param {number} imageId\n * @returns {string} comrpession type.\n */\nexport function getCompression(imageId) {\n  const generalImageModule =\n    cornerstone.metaData.get('generalImageModule', imageId) || {};\n  const {\n    lossyImageCompression,\n    lossyImageCompressionRatio,\n    lossyImageCompressionMethod,\n  } = generalImageModule;\n\n  if (lossyImageCompression === '01' && lossyImageCompressionRatio !== '') {\n    const compressionMethod = lossyImageCompressionMethod || 'Lossy: ';\n    const compressionRatio = formatNumberPrecision(\n      lossyImageCompressionRatio,\n      2\n    );\n    return compressionMethod + compressionRatio + ' : 1';\n  }\n\n  return 'Lossless / Uncompressed';\n}\n","import { dicomWebUtils } from '@ohif/extension-default';\n\nfunction isPrimitive(v: any) {\n  return !(typeof v == 'object' || Array.isArray(v));\n}\n\nconst vrNumerics = [\n  'DS',\n  'FL',\n  'FD',\n  'IS',\n  'OD',\n  'OF',\n  'OL',\n  'OV',\n  'SL',\n  'SS',\n  'SV',\n  'UL',\n  'US',\n  'UV',\n];\n\n/**\n * Specialized for DICOM JSON format dataset cleaning.\n * @param obj\n * @returns\n */\nexport default function cleanDenaturalizedDataset(\n  obj: any,\n  options: {\n    StudyInstanceUID: string;\n    SeriesInstanceUID: string;\n    dataSourceConfig: unknown;\n  }\n): any {\n  if (Array.isArray(obj)) {\n    const newAry = obj.map(o =>\n      isPrimitive(o) ? o : cleanDenaturalizedDataset(o, options)\n    );\n    return newAry;\n  } else if (isPrimitive(obj)) {\n    return obj;\n  } else {\n    Object.keys(obj).forEach(key => {\n      if (obj[key].Value === null && obj[key].vr) {\n        delete obj[key].Value;\n      } else if (Array.isArray(obj[key].Value) && obj[key].vr) {\n        if (obj[key].Value.length === 1 && obj[key].Value[0].BulkDataURI) {\n          dicomWebUtils.fixBulkDataURI(\n            obj[key].Value[0],\n            options,\n            options.dataSourceConfig\n          );\n\n          obj[key].BulkDataURI = obj[key].Value[0].BulkDataURI;\n\n          // prevent mixed-content blockage\n          if (\n            window.location.protocol === 'https:' &&\n            obj[key].BulkDataURI.startsWith('http:')\n          ) {\n            obj[key].BulkDataURI = obj[key].BulkDataURI.replace(\n              'http:',\n              'https:'\n            );\n          }\n          delete obj[key].Value;\n        } else if (vrNumerics.includes(obj[key].vr)) {\n          obj[key].Value = obj[key].Value.map(v => +v);\n        } else {\n          obj[key].Value = obj[key].Value.map(entry =>\n            cleanDenaturalizedDataset(entry, options)\n          );\n        }\n      }\n    });\n    return obj;\n  }\n}\n","import { api } from 'dicomweb-client';\nimport { errorHandler, DicomMetadataStore } from '@ohif/core';\n\nconst { DICOMwebClient } = api;\n\nDICOMwebClient._buildMultipartAcceptHeaderFieldValue = () => {\n  return '*/*';\n};\n\n/**\n * create a DICOMwebClient object to be used by Dicom Microscopy Viewer\n *\n * Referenced the code from `/extensions/default/src/DicomWebDataSource/index.js`\n *\n * @param param0\n * @returns\n */\nexport default function getDicomWebClient({\n  extensionManager,\n  servicesManager,\n}) {\n  const dataSourceConfig = window.config.dataSources.find(\n    ds => ds.sourceName === extensionManager.activeDataSource\n  );\n  const { userAuthenticationService } = servicesManager.services;\n\n  const { wadoRoot, staticWado, singlepart } = dataSourceConfig.configuration;\n\n  const wadoConfig = {\n    url: wadoRoot || '/dicomlocal',\n    staticWado,\n    singlepart,\n    headers: userAuthenticationService.getAuthorizationHeader(),\n    errorInterceptor: errorHandler.getHTTPErrorHandler(),\n  };\n\n  const client = new api.DICOMwebClient(wadoConfig);\n  client.wadoURL = wadoConfig.url;\n\n  if (extensionManager.activeDataSource === 'dicomlocal') {\n    /**\n     * For local data source, override the retrieveInstanceFrames() method of the\n     * dicomweb-client to retrieve image data from memory cached metadata.\n     * Other methods of the client doesn't matter, as we are feeding the DMV\n     * with the series metadata already.\n     *\n     * @param {Object} options\n     * @param {String} options.studyInstanceUID - Study Instance UID\n     * @param {String} options.seriesInstanceUID - Series Instance UID\n     * @param {String} options.sopInstanceUID - SOP Instance UID\n     * @param {String} options.frameNumbers - One-based indices of Frame Items\n     * @param {Object} [options.queryParams] - HTTP query parameters\n     * @returns {ArrayBuffer[]} Rendered Frame Items as byte arrays\n     */\n    //\n    client.retrieveInstanceFrames = async options => {\n      if (!('studyInstanceUID' in options)) {\n        throw new Error(\n          'Study Instance UID is required for retrieval of instance frames'\n        );\n      }\n      if (!('seriesInstanceUID' in options)) {\n        throw new Error(\n          'Series Instance UID is required for retrieval of instance frames'\n        );\n      }\n      if (!('sopInstanceUID' in options)) {\n        throw new Error(\n          'SOP Instance UID is required for retrieval of instance frames'\n        );\n      }\n      if (!('frameNumbers' in options)) {\n        throw new Error(\n          'frame numbers are required for retrieval of instance frames'\n        );\n      }\n      console.log(\n        `retrieve frames ${options.frameNumbers.toString()} of instance ${\n          options.sopInstanceUID\n        }`\n      );\n\n      const instance = DicomMetadataStore.getInstance(\n        options.studyInstanceUID,\n        options.seriesInstanceUID,\n        options.sopInstanceUID\n      );\n\n      const frameNumbers = Array.isArray(options.frameNumbers)\n        ? options.frameNumbers\n        : options.frameNumbers.split(',');\n\n      return frameNumbers.map(fr =>\n        Array.isArray(instance.PixelData)\n          ? instance.PixelData[+fr - 1]\n          : instance.PixelData\n      );\n    };\n  }\n\n  return client;\n}\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DicomMicroscopyViewer {\\n  --ol-partial-background-color: rgba(127, 127, 127, 0.7);\\n  --ol-foreground-color: #000000;\\n  --ol-subtle-foreground-color: #000;\\n  --ol-subtle-background-color: rgba(78, 78, 78, 0.5);\\n}\\n\\n.DicomMicroscopyViewer .ol-box {\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  border-radius: 2px;\\n  border: 1.5px solid var(--ol-background-color);\\n  background-color: var(--ol-partial-background-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-mouse-position {\\n  top: 8px;\\n  right: 8px;\\n  position: absolute;\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-line {\\n  background: var(--ol-partial-background-color);\\n  border-radius: 4px;\\n  bottom: 8px;\\n  left: 8px;\\n  padding: 2px;\\n  position: absolute;\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-line-inner {\\n  border: 1px solid var(--ol-subtle-foreground-color);\\n  border-top: none;\\n  color: var(--ol-foreground-color);\\n  font-size: 10px;\\n  text-align: center;\\n  margin: 1px;\\n  will-change: contents, width;\\n  -webkit-transition: all 0.25s;\\n  transition: all 0.25s;\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-bar {\\n  position: absolute;\\n  bottom: 8px;\\n  left: 8px;\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-bar-inner {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-step-marker {\\n  width: 1px;\\n  height: 15px;\\n  background-color: var(--ol-foreground-color);\\n  float: right;\\n  z-index: 10;\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-step-text {\\n  position: absolute;\\n  bottom: -5px;\\n  font-size: 10px;\\n  z-index: 11;\\n  color: var(--ol-foreground-color);\\n  text-shadow: -1.5px 0 var(--ol-partial-background-color),\\n    0 1.5px var(--ol-partial-background-color),\\n    1.5px 0 var(--ol-partial-background-color),\\n    0 -1.5px var(--ol-partial-background-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-text {\\n  position: absolute;\\n  font-size: 12px;\\n  text-align: center;\\n  bottom: 25px;\\n  color: var(--ol-foreground-color);\\n  text-shadow: -1.5px 0 var(--ol-partial-background-color),\\n    0 1.5px var(--ol-partial-background-color),\\n    1.5px 0 var(--ol-partial-background-color),\\n    0 -1.5px var(--ol-partial-background-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-singlebar {\\n  position: relative;\\n  height: 10px;\\n  z-index: 9;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  border: 1px solid var(--ol-foreground-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-singlebar-even {\\n  background-color: var(--ol-subtle-foreground-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-scale-singlebar-odd {\\n  background-color: var(--ol-background-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-unsupported {\\n  display: none;\\n}\\n\\n.DicomMicroscopyViewer .ol-viewport,\\n.DicomMicroscopyViewer .ol-unselectable {\\n  -webkit-touch-callout: none;\\n  -webkit-user-select: none;\\n  -moz-user-select: none;\\n   -ms-user-select: none;\\n       user-select: none;\\n  -webkit-tap-highlight-color: transparent;\\n}\\n\\n.DicomMicroscopyViewer .ol-viewport canvas {\\n  all: unset;\\n}\\n\\n.DicomMicroscopyViewer .ol-selectable {\\n  -webkit-touch-callout: default;\\n  -webkit-user-select: text;\\n  -moz-user-select: text;\\n   -ms-user-select: text;\\n       user-select: text;\\n}\\n\\n.DicomMicroscopyViewer .ol-grabbing {\\n  cursor: -webkit-grabbing;\\n  cursor: grabbing;\\n}\\n\\n.DicomMicroscopyViewer .ol-grab {\\n  cursor: move;\\n  cursor: -webkit-grab;\\n  cursor: grab;\\n}\\n\\n.DicomMicroscopyViewer .ol-control {\\n  position: absolute;\\n  background-color: var(--ol-subtle-background-color);\\n  border-radius: 4px;\\n}\\n\\n.DicomMicroscopyViewer .ol-zoom {\\n  top: 0.5em;\\n  left: 0.5em;\\n}\\n\\n.DicomMicroscopyViewer .ol-rotate {\\n  top: 0.5em;\\n  right: 0.5em;\\n  -webkit-transition: opacity 0.25s linear, visibility 0s linear;\\n  transition: opacity 0.25s linear, visibility 0s linear;\\n}\\n\\n.DicomMicroscopyViewer .ol-rotate.ol-hidden {\\n  opacity: 0;\\n  visibility: hidden;\\n  -webkit-transition: opacity 0.25s linear, visibility 0s linear 0.25s;\\n  transition: opacity 0.25s linear, visibility 0s linear 0.25s;\\n}\\n\\n.DicomMicroscopyViewer .ol-zoom-extent {\\n  top: 4.643em;\\n  left: 0.5em;\\n}\\n\\n.DicomMicroscopyViewer .ol-full-screen {\\n  right: 0.5em;\\n  top: 0.5em;\\n}\\n\\n.DicomMicroscopyViewer .ol-control button {\\n  display: block;\\n  margin: 1px;\\n  padding: 0;\\n  color: var(--ol-subtle-foreground-color);\\n  font-weight: bold;\\n  text-decoration: none;\\n  font-size: inherit;\\n  text-align: center;\\n  height: 1.375em;\\n  width: 1.375em;\\n  line-height: 0.4em;\\n  background-color: var(--ol-background-color);\\n  border: none;\\n  border-radius: 2px;\\n}\\n\\n.DicomMicroscopyViewer .ol-control button::-moz-focus-inner {\\n  border: none;\\n  padding: 0;\\n}\\n\\n.DicomMicroscopyViewer .ol-zoom-extent button {\\n  line-height: 1.4em;\\n}\\n\\n.DicomMicroscopyViewer .ol-compass {\\n  display: block;\\n  font-weight: normal;\\n  will-change: transform;\\n}\\n\\n.DicomMicroscopyViewer .ol-touch .ol-control button {\\n  font-size: 1.5em;\\n}\\n\\n.DicomMicroscopyViewer .ol-touch .ol-zoom-extent {\\n  top: 5.5em;\\n}\\n\\n.DicomMicroscopyViewer .ol-control button:hover,\\n.DicomMicroscopyViewer .ol-control button:focus {\\n  text-decoration: none;\\n  outline: 1px solid var(--ol-subtle-foreground-color);\\n  color: var(--ol-foreground-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-zoom .ol-zoom-in {\\n  border-radius: 2px 2px 0 0;\\n}\\n\\n.DicomMicroscopyViewer .ol-zoom .ol-zoom-out {\\n  border-radius: 0 0 2px 2px;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution {\\n  text-align: right;\\n  bottom: 0.5em;\\n  right: 0.5em;\\n  max-width: calc(100% - 1.3em);\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: reverse;\\n      -ms-flex-flow: row-reverse;\\n          flex-flow: row-reverse;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution a {\\n  color: var(--ol-subtle-foreground-color);\\n  text-decoration: none;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution ul {\\n  margin: 0;\\n  padding: 1px 0.5em;\\n  color: var(--ol-foreground-color);\\n  text-shadow: 0 0 2px var(--ol-background-color);\\n  font-size: 12px;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution li {\\n  display: inline;\\n  list-style: none;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution li:not(:last-child):after {\\n  content: ' ';\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution img {\\n  max-height: 2em;\\n  max-width: inherit;\\n  vertical-align: middle;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution button {\\n  -ms-flex-negative: 0;\\n      flex-shrink: 0;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution.ol-collapsed ul {\\n  display: none;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution:not(.ol-collapsed) {\\n  background: var(--ol-partial-background-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible {\\n  bottom: 0;\\n  right: 0;\\n  border-radius: 4px 0 0;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible img {\\n  margin-top: -0.2em;\\n  max-height: 1.6em;\\n}\\n\\n.DicomMicroscopyViewer .ol-attribution.ol-uncollapsible button {\\n  display: none;\\n}\\n\\n.DicomMicroscopyViewer .ol-zoomslider {\\n  top: 4.5em;\\n  left: 0.5em;\\n  height: 200px;\\n}\\n\\n.DicomMicroscopyViewer .ol-zoomslider button {\\n  position: relative;\\n  height: 10px;\\n}\\n\\n.DicomMicroscopyViewer .ol-touch .ol-zoomslider {\\n  top: 5.5em;\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap {\\n  left: 0.5em;\\n  bottom: 0.5em;\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap.ol-uncollapsible {\\n  bottom: 0;\\n  left: 0;\\n  border-radius: 0 4px 0 0;\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-map,\\n.DicomMicroscopyViewer .ol-overviewmap button {\\n  display: block;\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-map {\\n  border: 1px solid var(--ol-subtle-foreground-color);\\n  height: 150px;\\n  width: 150px;\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap:not(.ol-collapsed) button {\\n  bottom: 0;\\n  left: 0;\\n  position: absolute;\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap.ol-collapsed .ol-overviewmap-map,\\n.DicomMicroscopyViewer .ol-overviewmap.ol-uncollapsible button {\\n  display: none;\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap:not(.ol-collapsed) {\\n  background: var(--ol-subtle-background-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap-box {\\n  border: 0.5px dotted var(--ol-subtle-foreground-color);\\n}\\n\\n.DicomMicroscopyViewer .ol-overviewmap .ol-overviewmap-box:hover {\\n  cursor: move;\\n}\\n\\n@layout-header-background: #007ea3;\\n\\n@primary-color: #007ea3;\\n\\n@processing-color: #8cb8c6;\\n\\n@success-color: #3f9c35;\\n\\n@warning-color: #eeaf30;\\n\\n@error-color: #96172e;\\n\\n@font-size-base: 14px;\\n\\n.DicomMicroscopyViewer .ol-tooltip {\\n  font-size: 16px !important;\\n}\\n\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".DicomMicroscopyViewer .OpenLayersOverlay {\\n  height: 100%;\\n  width: 100%;\\n  display: block !important;\\n  pointer-events: none !important;\\n}\\n\\n.DicomMicroscopyViewer .text-primary-light {\\n  font-size: 14px;\\n  color: yellow;\\n  font-weight: normal;\\n}\\n\\n.DicomMicroscopyViewer .text-primary-light span {\\n  overflow: hidden;\\n  white-space: nowrap;\\n  text-overflow: ellipsis;\\n  max-width: 300px;\\n  /* text-shadow: 0px 1px 1px rgba(225, 225, 225, 0.6),\\n              0px 1px 1px rgba(225, 225, 225, 0.6),\\n              1px 1px 3px rgba(225, 225, 225, 0.9),\\n              1px 1px 3px rgba(225, 225, 225, 0.9),\\n              1px 1px 3px rgba(225, 225, 225, 0.9),\\n              1px 1px 3px rgba(225, 225, 225, 0.9); */\\n}\\n\\n.DicomMicroscopyViewer .absolute {\\n  position: absolute;\\n}\\n\\n.DicomMicroscopyViewer .flex {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n\\n.DicomMicroscopyViewer .flex-row {\\n  -webkit-box-orient: horizontal;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: row;\\n          flex-direction: row;\\n}\\n\\n.DicomMicroscopyViewer .flex-col {\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n}\\n\\n.DicomMicroscopyViewer .pointer-events-none {\\n  pointer-events: none;\\n}\\n\\n.DicomMicroscopyViewer .left-viewport-scrollbar {\\n  left: 0.5rem;\\n}\\n\\n.DicomMicroscopyViewer .right-viewport-scrollbar {\\n  right: 1.3rem;\\n}\\n\\n.DicomMicroscopyViewer .top-viewport {\\n  top: 0.5rem;\\n}\\n\\n.DicomMicroscopyViewer .bottom-viewport {\\n  bottom: 0.5rem;\\n}\\n\\n.DicomMicroscopyViewer .bottom-viewport.left-viewport {\\n  bottom: 0.5rem;\\n  left: calc(0.5rem + 250px);\\n}\\n\\n.DicomMicroscopyViewer .right-viewport-scrollbar .flex {\\n  -webkit-box-pack: end;\\n      -ms-flex-pack: end;\\n          justify-content: end;\\n}\\n\\n.DicomMicroscopyViewer .microscopy-viewport-overlay {\\n  padding: 0.5rem 1rem;\\n  background: rgba(0, 0, 0, 0.5);\\n  max-width: 40%;\\n}\\n\\n.DicomMicroscopyViewer .microscopy-viewport-overlay .flex {\\n  max-width: 100%;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n}\\n\\n.DicomMicroscopyViewer .top-viewport .flex span:not(.font-light) {\\n  -ms-flex-negative: 0;\\n      flex-shrink: 0;\\n}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./DicomMicroscopyViewport.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./DicomMicroscopyViewport.css\",\n      function () {\n        content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./DicomMicroscopyViewport.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./ViewportOverlay.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\nif (module.hot) {\n  if (!content.locals || module.hot.invalidate) {\n    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {\n  if (!a && b || a && !b) {\n    return false;\n  }\n\n  var p;\n\n  for (p in a) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (a[p] !== b[p]) {\n      return false;\n    }\n  }\n\n  for (p in b) {\n    if (isNamedExport && p === 'default') {\n      // eslint-disable-next-line no-continue\n      continue;\n    }\n\n    if (!a[p]) {\n      return false;\n    }\n  }\n\n  return true;\n};\n    var oldLocals = content.locals;\n\n    module.hot.accept(\n      \"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./ViewportOverlay.css\",\n      function () {\n        content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[3].use[1]!../../../../../node_modules/postcss-loader/dist/cjs.js??ruleSet[1].rules[3].use[2]!./ViewportOverlay.css\");\n\n              content = content.__esModule ? content.default : content;\n\n              if (typeof content === 'string') {\n                content = [[module.id, content, '']];\n              }\n\n              if (!isEqualLocals(oldLocals, content.locals)) {\n                module.hot.invalidate();\n\n                return;\n              }\n\n              oldLocals = content.locals;\n\n              update(content);\n      }\n    )\n  }\n\n  module.hot.dispose(function() {\n    update();\n  });\n}\n\nmodule.exports = content.locals || {};"],"names":[],"sourceRoot":""}