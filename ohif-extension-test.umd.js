!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["ohif-extension-test"]=t():e["ohif-extension-test"]=t()}(globalThis,(()=>(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{default:()=>c});const o=JSON.parse('{"u2":"@ohif/extension-test"}').u2,n={id:"codingValues","SCT:69536005":{text:"Head",type:"site"},"SCT:45048000":{text:"Neck",type:"site"},"SCT:818981001":{text:"Abdomen",type:"site"},"SCT:816092008":{text:"Pelvis",type:"site"},"SCT:371861004":{text:"Mild intimal coronary irregularities",color:"green"},"SCT:194983005":{text:"Aortic insufficiency",color:"darkred"},"SCT:399232001":{text:"2-chamber"},"SCT:103340004":{text:"SAX"},"SCT:91134007":{text:"MV"},"SCT:122972007":{text:"PV"},"SCT:24422004":{text:"Axial",color:"#000000",type:"orientation"},"SCT:81654009":{text:"Coronal",color:"#000000",type:"orientation"},"SCT:30730003":{text:"Sagittal",color:"#000000",type:"orientation"}},i={id:"@ohif/contextMenuAnnotationCode",transform:function(e){const{code:t}=this;if(!t)throw new Error(`item ${this} has no code ref`);const o=e.get("codingValues")[t];return{...this,codeRef:t,code:{ref:t,...o},label:o.text,commands:[{commandName:"updateMeasurement"}]}}},a={id:"measurementsContextMenu",customizationType:"ohif.contextMenu",menus:[{id:"forExistingMeasurement",selector:e=>{let{nearbyToolData:t}=e;return!!t},items:[{customizationType:"ohif.contextSubMenu",label:"Site",actionType:"ShowSubMenu",subMenu:"siteSelectionSubMenu"},{customizationType:"ohif.contextSubMenu",label:"Finding",actionType:"ShowSubMenu",subMenu:"findingSelectionSubMenu"},{label:"Delete Measurement",commands:[{commandName:"deleteMeasurement"}]},{label:"Add Label",commands:[{commandName:"setMeasurementLabel"}]},{label:"IncludeSubMenu",selector:e=>{let{protocol:t}=e;return"@ohif/mnGrid"===t?.id},delegating:!0,subMenu:"orientationSelectionSubMenu"}]},{id:"orientationSelectionSubMenu",selector:e=>{let{nearbyToolData:t}=e;return!1},items:[{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:24422004"},{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:81654009"}]},{id:"findingSelectionSubMenu",selector:e=>{let{nearbyToolData:t}=e;return!1},items:[{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:371861004"},{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:194983005"}]},{id:"siteSelectionSubMenu",selector:e=>{let{nearbyToolData:t}=e;return!!t},items:[{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:69536005"},{customizationType:"@ohif/contextMenuAnnotationCode",code:"SCT:45048000"}]}]};function s(e,t){const{sameAttribute:o,sameDisplaySetId:n}=this;if(!o)return console.log("sameAttribute not defined in",this),`sameAttribute not defined in ${this.id}`;if(!n)return console.log("sameDisplaySetId not defined in",this),`sameDisplaySetId not defined in ${this.id}`;const{displaySetMatchDetails:i,displaySets:a}=t,s=i.get(n);if(!s)return console.log("No match for display set",n),!1;const{displaySetInstanceUID:r}=s,u=a.find((e=>e.displaySetInstanceUID==r));if(!u)return console.log("No display set found with",r,"in",a),!1;return u[o]===e[o]}const r=(e,t)=>t?.displaySets?.length,u=(e,t)=>Math.max(...t?.displaySets?.map?.((e=>e.numImageFrames??0))||[0]),c={id:o,preRegistration:e=>{let{servicesManager:t}=e;const{hangingProtocolService:o}=t.services;o.addCustomAttribute("numberOfDisplaySets","Number of displays sets",r),o.addCustomAttribute("maxNumImageFrames","Maximum of number of image frames",u),o.addCustomAttribute("sameAs","Match an attribute in an existing display set",s)},getCustomizationModule:function(){return[{name:"custom-context-menu",value:[n,i,a]}]}};return t=t.default})()));
//# sourceMappingURL=ohif-extension-test.umd.js.map